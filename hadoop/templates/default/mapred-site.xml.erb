<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>

  <property>
    <name>mapred.job.tracker</name>
    <value><%= @jobtracker["hostname"] %>:<%= @jobtrackerport %></value>
  </property>

<% if @localdir.size > 0 -%>
  <property>
    <name>mapred.local.dir</name>
    <value><%= @localdir.join(',') %></value>
  </property>
<% end -%>

<% if @systemdir -%>
  <property>
    <name>mapred.system.dir</name>
    <value><%= @systemdir %></value>
  </property>
<% end -%>

<% if @stagingdir -%>
  <property>
    <name>mapreduce.jobtracker.staging.root.dir</name>
    <value><%= @stagingdir %></value>
  </property>
<% end -%>

<% if @mapredtmpdir -%>
  <property>
    <name>mapred.temp.dir</name>
    <value><%= @mapredtmpdir %></value>
  </property>
<% end -%>

  <property>
    <name>mapred.tasktracker.map.tasks.maximum</name>
    <value><%= @maptasksmaximum %></value>
  </property>

  <property>
    <name>mapred.tasktracker.reduce.tasks.maximum</name>
    <value><%= @reducetasksmaximum %></value>
  </property>

<% if @childjavaopts -%>
  <property>
    <name>mapred.child.java.opts</name>
    <value><%= @childjavaopts %></value>
  </property>
<% end -%>

  <property>
    <name>mapred.compress.map.output</name>
    <value>true</value>
  </property>

<% if @hadooplzoenabled  -%>
  <property>
    <name>mapred.map.output.compression.codec</name>
    <value>com.hadoop.compression.lzo.LzoCodec</value>
  </property>
<% end -%>

</configuration>
